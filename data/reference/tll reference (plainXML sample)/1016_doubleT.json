{
  "version": "1.3",

  "snap": {
    "step_m": 5,
    "tie_break": "toward_west"
  },

  "defaults": {
    "minor_road_length_m": 70,
    "ped_crossing_width_m": 3.5,
    "sidewalk_width_m": 2.0,
    "speed_kmh": 50
  },

  "main_road": {
    "length_m": 300,
    "center_gap_m": 6.0,
    "lanes": 3
  },

  "junction_templates": {
    "tee": [{
        "id": "T1",
        "main_approach_begin_m": 50,
        "main_approach_lanes": 4,
        "minor_lanes_to_main": 4,
        "minor_lanes_from_main": 2,
        "refuge_island_on_main": true,
        "two_stage_ped_crossing_on_main": true,
        "median_continuous": false
      },
      {
        "id": "T2",
        "main_approach_begin_m": 50,
        "main_approach_lanes": 4,
        "minor_lanes_to_main": 4,
        "minor_lanes_from_main": 3,
        "refuge_island_on_main": true,
        "two_stage_ped_crossing_on_main": true,
        "median_continuous": false
      }
    ],
    "cross": []
  },

  "signal_profiles": {
    "tee": [{
        "id": "T_90_1",
        "cycle_s": 90,
        "ped_red_offset_s": 7,
        "yellow_duration_s": 3,
        "pedestrian_conflicts": {
          "left": false,
          "right": false
        },
        "phases": [
          { "duration_s": 32, "allow_movements": ["main_T", "main_L", "pedestrian"] },
          { "duration_s": 15, "allow_movements": ["main_R", "pedestrian"] },
          { "duration_s": 3, "allow_movements": [] },
          { "duration_s": 27, "allow_movements": ["minor_T", "minor_L", "pedestrian"] },
          { "duration_s": 10, "allow_movements": ["minor_R", "pedestrian"] },
          { "duration_s": 3, "allow_movements": [] }
        ]
      },
      {
        "id": "T_90_2",
        "cycle_s": 90,
        "ped_red_offset_s": 9,
        "yellow_duration_s": 4,
        "pedestrian_conflicts": {
          "left": true,
          "right": true
        },
        "phases": [
          { "duration_s": 30, "allow_movements": ["main_T", "pedestrian"] },
          { "duration_s": 15, "allow_movements": ["main_R", "minor_L"] },
          { "duration_s": 30, "allow_movements": ["minor_T", "pedestrian"] },
          { "duration_s": 15, "allow_movements": ["minor_R", "main_L"] }
        ]
      }
    ],
    "cross": [],
    "xwalk_midblock": [
      {
        "id": "mid_90",
        "cycle_s": 90,
        "yellow_duration_s": 3,
        "phases": [
          { "duration_s": 60, "allow_movements": ["main_T"] },
          { "duration_s": 30, "allow_movements": ["pedestrian"] }
        ]
      }
    ]
  },

  "layout": [
    {
      "type": "tee",
      "pos_m": 100,
      "branch": "north",
      "template": "T1",
      "signalized": true,
      "signal": { "profile_id": "T_90_1", "offset_s": 0 },
      "main_ped_crossing_placement": { "west": true, "east": true }
    },
    {
      "type": "tee",
      "pos_m": 200,
      "branch": "south",
      "template": "T2",
      "signalized": true,
      "signal": { "profile_id": "T_90_2", "offset_s": 45 },
      "main_ped_crossing_placement": { "west": true, "east": true }
    },
    {
      "type": "xwalk_midblock",
      "pos_m": 150,
      "signalized": false,
      "refuge_island_on_main": true
    }
  ]
}
